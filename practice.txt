// Run the GA process
public void Run()
{
    for (int gen = 0; gen < generations; gen++)
    {
        var newPopulation = new List<List<int>>();
        for (int i = 0; i < populationSize; i++)
        {
            var parent1 = Selection();
            var parent2 = Selection();
            var child = Crossover(parent1, parent2);
            Mutate(child);
            newPopulation.Add(child);
        }
        population = newPopulation;

        var bestTour = population.OrderBy(Fitness).Last();
        double bestDistance = 1 / Fitness(bestTour);

        // Update the UI with the current best solution
        UpdateUI(bestTour, bestDistance, gen);

        // Allow the UI to refresh
        Application.DoEvents();
    }
}
