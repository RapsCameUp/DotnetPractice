private List<City> ParseDataset(string datasetLine)
{
    // Split the line by semicolon to get individual city data
    var cityData = datasetLine.Split(';');

    // Initialize a list to store the parsed cities
    var cities = new List<City>();

    foreach (var city in cityData)
    {
        // Split each city data by comma and trim any whitespace
        var coordinates = city.Split(',').Select(c => c.Trim()).ToArray();

        // Ensure we have exactly 2 coordinates for X and Y
        if (coordinates.Length == 2)
        {
            try
            {
                // Parse the coordinates and create a new City object
                int x = int.Parse(coordinates[0]);
                int y = int.Parse(coordinates[1]);
                cities.Add(new City(x, y));
            }
            catch (FormatException ex)
            {
                MessageBox.Show($"Error parsing city coordinates: {city}. Please ensure the format is correct.", "Parsing Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
            }
            catch (Exception ex)
            {
                MessageBox.Show($"An unexpected error occurred while parsing: {ex.Message}", "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
            }
        }
        else
        {
            MessageBox.Show($"Invalid city data format: {city}. Each city must be in the format 'x,y'.", "Format Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
        }
    }

    return cities;
}
